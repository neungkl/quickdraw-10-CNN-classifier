<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Quickdraw Clasification</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.0/css/bulma.min.css">
    <style>
      .navbar {
        background-color: #1E88E5;
      }
      .navbar .header {
        color: #fff;
      }
      #draw-container {
        background-color: #FFF;
        border: 1px solid #ddd;
        display: block;
        max-width: 500px;
        max-height: 500px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="container">
        <div class="navbar-brand">
          <div class="navbar-item header">
            Quickdraw Classification
          </div>

          <div class="navbar-burger">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </div>
    </nav>
    <section class="section">
      <div class="container">
        <p class="subtitle">
          Quickdraw 10 classes classification
        </p>
        <div class="columns">
          <div class="column is-half">
            <div id="draw-container"></div>
          </div>
          <div class="column is-half">
            Prediction result
          </div>
        </div>
      </div>
    </section>
    <script src="{{ url_for('static', filename='sketch.min.js') }}"></script>
    <script>
      var isDraw = false;
      Sketch.create({
        container: document.getElementById('draw-container'),
        autoclear: false,
        fullscreen: false,
        width: 500,
        height: 500,
        retina: 'auto',
        // Event handlers
        keydown: function() {
            if ( this.keys.C ) this.clear();
        },
        touchstart: function() {
          isDraw = true;
        },
        touchend: function() {
          isDraw = false;
        },
        // Mouse & touch events are merged, so handling touch events by default
        // and powering sketches using the touches array is recommended for easy
        // scalability. If you only need to handle the mouse / desktop browsers,
        // use the 0th touch element and you get wider device support for free.
        touchmove: function() {
          if (!isDraw) return ;
          touch = this.touches[0];
          this.lineCap = 'round';
          this.lineJoin = 'round';
          this.fillStyle = this.strokeStyle = '#000';
          this.lineWidth = 4;
          this.beginPath();
          this.moveTo( touch.ox, touch.oy );
          this.lineTo( touch.x, touch.y );
          this.stroke();
        }
      });
    </script>
  </body>
</html>